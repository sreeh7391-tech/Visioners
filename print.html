
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Visioners ‚Äì Image to Braille</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  font-family: 'Segoe UI', Arial, sans-serif;
  background:#f5f7fb;
  padding:20px;
  display:flex;
  justify-content:center;
}
.card{
  max-width:800px;
  width:100%;
  background:#fff;
  padding:25px;
  border-radius:16px;
  box-shadow:0 10px 25px rgba(0,0,0,0.08);
}
button{
  padding:12px 18px;
  border:none;
  border-radius:8px;
  background:#2b6ef6;
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
button:hover{opacity:0.9;}
textarea{
  width:100%;
  height:200px;
  background:#1e293b;
  color:#e2e8f0;
  padding:15px;
  border-radius:8px;
  border:none;
}
.status{margin-top:8px;color:#64748b;}
</style>
</head>

<body>
<div class="card">
<h2>Image ‚Üí Braille & Speech</h2>

<textarea id="output" placeholder="Type or scan text..."></textarea>

<div style="margin-top:10px;">
  <button id="printBtn">üñ®Ô∏è Print to Braille</button>
  <button id="readBtn" style="background:#10b981">üîä Read Aloud</button>
</div>

<div class="status" id="status">Ready.</div>
</div>

<script>
const output = document.getElementById("output");
const printBtn = document.getElementById("printBtn");
const readBtn = document.getElementById("readBtn");
const statusEl = document.getElementById("status");

function speak(text){
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(text);
  u.lang = "en-US";
  speechSynthesis.speak(u);
}

printBtn.onclick = () => {
  const text = output.value.trim();
  if(!text){
    speak("Please enter text first.");
    return;
  }

  statusEl.textContent = "Sending to Braille printer...";
  speak("Sending to Braille printer.");

  fetch("http://192.168.4.1/print?text=" + encodeURIComponent(text))
    .then(res => {
      if(!res.ok) throw new Error();
      return res.text();
    })
    .then(() => {
      statusEl.textContent = "Sent to Braille printer.";
      speak("Text sent successfully.");
    })
    .catch(() => {
      statusEl.textContent = "Printer not reachable.";
      speak("Printer not reachable. Please check WiFi.");
    });
};

readBtn.onclick = () => {
  if(output.value) speak(output.value);
  else speak("Text box is empty.");
};
</script>
</body>
</html>
